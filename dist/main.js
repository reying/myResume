(()=>{"use strict";var e,t,n,o,a,r,i,c,l,s,u,m,d,p,v,f,h;new SliderCarousel({main:".companies-wrapper",wrap:".companies-hor",slidesToShow:4,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}]}).init(),d="19 march 2021",v=document.querySelector("#timer-hours"),f=document.querySelector("#timer-minutes"),h=document.querySelector("#timer-seconds"),p=setInterval((function(){var e,t={timeRemaining:e=(new Date(d).getTime()-(new Date).getTime())/1e3,seconds:Math.floor(e%60),minutes:Math.floor(e/60%60),hours:Math.floor(e/60/60)};v.textContent=t.hours<10?"0".concat(t.hours):t.hours,f.textContent=t.minutes<10?"0".concat(t.minutes):t.minutes,h.textContent=t.seconds<10?"0".concat(t.seconds):t.seconds,t.timeRemaining<0&&(clearInterval(p),v.textContent=f.textContent=h.textContent="00")})),l=document.querySelector("menu"),s=l.querySelectorAll('a[href*="#"]'),u=document.querySelector("body"),m=function(){l.classList.toggle("active-menu")},u.addEventListener("click",(function(e){var t=e.target;t.closest(".menu")?m():t.closest("menu")?s.forEach((function(n){n===t&&("close"!==n.getAttribute("href").substring(1)?(m(),function(e,t){t.preventDefault();var n=e.getAttribute("href").substring(1);document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"})}(n,e)):m())})):l.classList.contains("active-menu")&&m()})),r=document.querySelector(".popup"),i=document.querySelectorAll(".popup-btn"),c=function(){var e,t=0,n=document.documentElement.clientWidth;r.style.display="block",n>=768&&(e=setInterval((function(){(t+=.02)<1?r.style.opacity=t:clearInterval(e)})))},i.forEach((function(e){return e.addEventListener("click",c)})),r.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?r.style.display="none":(t=t.closest(".popup-content"))||(r.style.display="none")})),(a=document.querySelector('main>a[href = "#service-block"]')).addEventListener("click",(function(e){e.preventDefault();var t=a.getAttribute("href").substring(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})})),t=document.querySelector(".service-header"),n=t.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab"),t.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&n.forEach((function(e,a){var r;e===t&&(r=a,o.forEach((function(e,t){r===t?(n[t].classList.add("active"),e.classList.remove("d-none")):(n[t].classList.remove("active"),e.classList.add("d-none"))})))}))})),function(){var e,t=document.querySelector(".portfolio-content"),n=document.querySelectorAll(".portfolio-item"),o=document.querySelector(".portfolio-dots"),a=0;n.forEach((function(e,t){var n=document.createElement("li");n.classList.add("dot"),0===t&&n.classList.add("dot-active"),o.append(n)}));var r=document.querySelectorAll(".dot"),i=function(e,t,n){e[t].classList.remove(n)},c=function(e,t,n){e[t].classList.add(n)},l=function(){i(n,a,"portfolio-item-active"),i(r,a,"dot-active"),++a>=n.length&&(a=0),c(n,a,"portfolio-item-active"),c(r,a,"dot-active")},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(l,t)};t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(i(n,a,"portfolio-item-active"),i(r,a,"dot-active"),t.matches("#arrow-right")?a++:t.matches("#arrow-left")?a--:t.matches(".dot")&&r.forEach((function(e,n){e===t&&(a=n)})),a>=n.length&&(a=0),a<0&&(a=n.length-1),c(n,a,"portfolio-item-active"),c(r,a,"dot-active"))})),t.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&s()})),s()}(),(e=document.querySelector(".calc-block")).addEventListener("input",(function(e){"input"===e.target.tagName.toLowerCase&&(e.target.value=e.target.value.replace(/\D/,""))})),function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,o=document.querySelector(".calc-type"),a=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),i=document.querySelector(".calc-count"),c=document.getElementById("total"),l=function(){var e=0,t=1,c=1,l=o.options[o.selectedIndex].value,s=+a.value;return i.value>1&&(t+=(i.value-1)/10),r.value&&r.value<5?c*=2:r.value&&r.value<10&&(c*=1.5),l&&s&&(e=Math.floor(n*l*s*t*c)),e},s=function(e){var n,o=e.target,a=l(),r=c.textContent?+c.textContent:0;if(o.matches("select")||o.matches("input")){var i=function(){cancelAnimationFrame(t),t=requestAnimationFrame((function e(){t=requestAnimationFrame(e),r!==a?(r<a?a-r<20?r++:r+=Math.floor((a-r)/5):0===a?r=0:r-a<20?r--:r-=Math.floor((r-a)/5),c.textContent=r):cancelAnimationFrame(t)}))};o.matches("input")?o.addEventListener("keyup",(n=i,function(e){var t=this.lastCall;this.lastCall=Date.now(),t&&this.lastCall-t<=1e3&&clearTimeout(this.lastCallTimer),this.lastCallTimer=setTimeout((function(){return n(e)}),1e3)})):i()}};e.addEventListener("change",(function(e){s(e)})),e.addEventListener("input",(function(e){s(e)}))}(100),function(){document.querySelectorAll(".command__photo");var e=document.getElementById("command");e.addEventListener("mouseover",(function(e){e.target.classList.contains("command__photo")&&(e.target.src=e.target.dataset.img)})),e.addEventListener("mouseout",(function(e){e.target.classList.contains("command__photo")&&(e.target.src=e.target.dataset.img.replace(/\w(?=\.)/,""))}))}(),function(){var e=document.querySelector("body");e.querySelectorAll(".form-email").forEach((function(e){return e.required=!0})),e.addEventListener("input",(function(e){var t=e.target;t.classList.contains("form-name")?t.value=t.value.replace(/[^а-яё\s]/gi,""):t.classList.contains("form-email")?t.value=t.value.replace(/[^a-z@\-_.']/gi,""):t.classList.contains("form-phone")?t.value=t.value.replace(/[^\d\+]/gi,""):t.classList.contains("mess")&&(t.value=t.value.replace(/[^а-яё\s\d,.!?;:()]/gi,""))})),e.addEventListener("blur",(function(e){var t=e.target;t.closest("form")&&(!function(e){e.value=e.value.trim(),e.value=e.value.replace(/\s{2,}/g," "),e.value=e.value.replace(/-{2,}/g,"-"),e.value=e.value.replace(/^-+/g,""),e.value=e.value.replace(/-+$/g,""),e.value=e.value.trim()}(t),t.classList.contains("form-name")&&(t.value=t.value.toLowerCase(),t.value=t.value.replace(/(\s|^)[а-яё]/gi,(function(e){return e.toUpperCase()}))))}),!0)}(),function(){var e=document.getElementById("form1"),t=document.getElementById("form2"),n=document.getElementById("form3"),o=document.createElement("div");o.style.cssText="font-size: 2rem; color: white;";var a=function(e,t){var n=e.firstChild;n.style.opacity=1;var o=setInterval((function(){n.style.opacity=n.style.opacity-.05,n.style.opacity<=.05&&(clearInterval(o),n.style.display="none",e.textContent=t,setTimeout((function(){return e.textContent=""}),2500),e.closest(".popup")&&setTimeout((function(){return e.closest(".popup").style.display="none"}),5e3))}),30)},r=function(e,t){e.preventDefault(),t.appendChild(o),function(e){e.textContent="";var t=document.createElement("div");t.style.cssText="\n            margin-left: auto;\n            margin-right: auto;\n            width: 70px;\n            height: 70px;\n            background: url(./images/preloader.png) center center no-repeat;",e.appendChild(t)}(o);var n=new FormData(t),r={};n.forEach((function(e,t){r[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})}(r).then((function(e){if(200!==e.status)throw new Error("status network not 200");a(o,"Спасибо! Мы скоро с вами свяжемся!")})).catch((function(e){a(o,"Что-то пошло не так"),console.error(e)})),t.querySelectorAll("input").forEach((function(e){return e.value=""}))},i=new Validator({selector:"#form1",pattern:{name:/^[а-яё\s]{2,}$/gi,email:/^[\w.-]+@[\w]+\.[\w]{2,}$/gi,phone:/^(\+)?\d{7,13}$/gi},method:{email:[["notEmpty"],["pattern","email"]],phone:[["notEmpty"],["pattern","phone"]],name:[["notEmpty"],["pattern","name"]]}}),c=new Validator({selector:"#form2",pattern:{name:/^[а-яё\s]{2,}$/gi,message:/^[а-яё\s\d,.!?;:]+$/gi,email:/^[\w.-]+@[\w]+\.[\w]{2,}$/gi,phone:/^(\+)?\d{7,13}$/gi},method:{message:[["notEmpty"],["pattern","message"]],email:[["notEmpty"],["pattern","email"]],phone:[["notEmpty"],["pattern","phone"]],name:[["notEmpty"],["pattern","name"]]}}),l=new Validator({selector:"#form3",pattern:{name:/^[а-яё\s]{2,}$/gi,email:/^[\w.-]+@[\w]+\.[\w]{2,}$/gi,phone:/^(\+)?\d{7,13}$/gi},method:{email:[["notEmpty"],["pattern","email"]],phone:[["notEmpty"],["pattern","phone"]],name:[["notEmpty"],["pattern","name"]]}});i.init(),c.init(),l.init(),e.addEventListener("submit",(function(t){0===i.error.size&&r(t,e)})),t.addEventListener("submit",(function(e){0===c.error.size&&r(e,t)})),n.addEventListener("submit",(function(e){0===l.error.size&&r(e,n)}))}()})();